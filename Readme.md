Промпт (спецификация) для генератора кода: SPA на JavaScript для учёта дней отсутствия в Польше

Ниже — готовый промпт, который можно вставить в генератор кода/попросить разработчика/использовать с ChatGPT, чтобы получить рабочую одностраничную веб-программу. Приложение должно запускаться как статический сайт (GitHub Pages) без бэкенда; опция хранения данных — localStorage по умолчанию и необязательная интеграция с S3 (описана отдельно).

Скопируй весь блок ниже и вставь в генератор кода (или отправь разработчику).
'''
Задача
---
Создай одностраничное веб-приложение (single-page app) на чистом JavaScript (без сборщика / без backend), которое может работать как статический сайт (разместить на GitHub Pages). Приложение позволяет вести учёт поездок людей (выезд из Польши и въезд в Польшу), хранить несколько людей и их поездок и вычислять суммарное количество дней отсутствия в Польше за заданный период.

Требования по реализации
---
1. Технологии:
   - Чистый HTML + CSS + vanilla JavaScript (ES6+). Проект — один файл `index.html` (можно разделить на файлы, но должен быть runnable без сборки).
   - Использовать семплый, аккуратный интерфейс (можно Tailwind CDN, но не обязательно).
   - Нет авторизации.

2. Хранение данных:
   - По умолчанию — `localStorage` (ключ: `absenceData`).
   - Предусмотреть кнопки: «Сохранить», «Загрузить», «Экспорт JSON», «Импорт JSON».
   - Опциональная секция: подключение к AWS S3 (описать примерную интеграцию через presigned URL или инструкцию по ручной загрузке JSON в бакет). Реализация S3 не обязательна, но в интерфейсе должна быть переключаемая опция «Хранить в S3 (опция)» с полями: `S3 PUT URL` / `S3 GET URL` (пользователь может вставить свой presigned URL).

3. Данные / модель:
   - Структура данных (пример JSON):
     ```json
     {
       "people": [
         {
           "id": "uuid-1",
           "name": "Иван Иванов",
           "trips": [
             {"id":"t1","exit":"2022-03-10","return":"2022-04-05"},
             {"id":"t2","exit":"2023-01-15","return":null} // null — ещё не вернулся
           ]
         }
       ]
     }
     ```
   - Даты в формате ISO `YYYY-MM-DD`.
   - При подсчётах, если `return` == `null`, считать, что дата возврата = выбранная `date1` (верхняя граница интервала).

4. Интерфейс (минимум):
   - Панель «Параметры периода»: `Дата 1 (end)` — по умолчанию = сегодня; `Дата 2 (start)` — по умолчанию = дата1 минус 5 лет. Поля редактируемые.
   - Список людей: добавить/редактировать/удалить человека.
   - Для каждого человека — список поездок с возможностью добавить/редактировать/удалить запись (поля: `Дата выезда` (exit), `Дата въезда` (return), заметка).
   - Кнопка «Посчитать отсутствия» для выбранного человека или «Посчитать для всех».
   - Результат: таблица с каждым человеком, суммарные дни отсутствия за период, и детализация поездок (какие периоды вошли в расчёт и сколько дней добавил каждый).
   - Кнопка «Очистить локально» (удалить localStorage).

5. Алгоритм расчёта дней отсутствия
   - Определения:
     - Интервал расчёта: `[start = date2, end = date1]` (включительно по логике — см. ниже).
     - Каждая поездка — период `[exit, return)` (exit включительно, return — день возвращения считаем в Польше; т.е. если выезд 2022-03-01, возврат 2022-03-05 — absent days = 4: 1,2,3,4). Это правило описать в UI. (Если пользователь предпочитает считать иначе — сделать опцию).
   - Для каждой поездки вычислить пересечение с интервалом `[start, end]`:
     - effective_start = max(exit, start)
     - effective_end = min(return_or_date1, end + 1 day)  // если считаем return как день возвращения в Польше, то не включаем этот день
     - days = max(0, (effective_end - effective_start) in days)
   - Чтобы избежать двойного счёта при наложении поездок — объединять (merge) все пересекающиеся/смежные интервалы по этому человеку внутри расчётного интервала, затем суммировать длину объединённых интервалов.
   - Все вычисления дат делать на уровне календарных дней (использовать объект `Date` и считать разницу в миллисекундах, делённую на 86400000, округлять по правилам: взять целое число дней от дат без временной зоны, работать в UTC или использовать `Date.UTC(year, month-1, day)` для безопасного исчисления).

6. Доп. функциональность:
   - Возможность указать правило подсчёта: «возвращение включать/не включать» (т.е. считать день возвращения как отсутствующий или нет).
   - Фильтр по человеку и кнопка «История поездок» (мелкая табличка).
   - Визуальная подсветка пересекающихся поездок.

7. Тестовые данные: дать в интерфейсе кнопку «Загрузить пример», которая подставляет 3 человека с несколькими поездками (включая пересекающиеся и незавершённые поездки).
8. Доступность/локализация: интерфейс на русском языке.

UI/UX замечания
---
- Простая, понятная форма — не перегружать.
- В результатах показать две вещи: (1) суммарные дни за интервал, (2) разбивка по поездкам (какие даты учтены и сколько дней).
- Обязательно показать, какие правила подсчёта используются (например: дата включительно/исключительно).

Деплой на GitHub Pages (инструкции для конечного пользователя)
---
1. Создать публичный репозиторий `username/absence-tracker`.
2. Положить `index.html` (и при необходимости `style.css`, `app.js`) в корень ветки `main`.
3. Включить GitHub Pages: `Settings → Pages → branch: main / / (root)`.
4. Адрес станет `https://username.github.io/absence-tracker/`.

Опционально: хранение в S3 (короткая инструкция)
---
- Статический сайт: можно размещать в S3 как статический сайт, но для записи в бакет из браузера нужно использовать presigned PUT URL или настроить backend (Lambda) для подписи.
- Для простоты можно экспортировать JSON локально и вручную залить в S3 (или хранить публичный JSON и загружать его).
- Если нужен пример функции для получения presigned URL — приложить пример на Node.js (AWS SDK v3) — но реализация presign не входит в основной минимальный функционал.

Примеры входных/выходных данных (пример)
---
Вход (период):
- date1 = 2025-10-18
- date2 = 2020-10-18

Человек A:
- trip1: exit=2021-01-05, return=2021-02-01
- trip2: exit=2022-12-20, return=null (ещё не вернулся)

Ожидаемый результат:
- Для trip1: учитываются дни с 2021-01-05 по 2021-01-31 включительно = 27 дней (если return день исключаем)
- Для trip2: учитываем до date1 (2025-10-18) — дни с 2022-12-20 по 2025-10-17 = N дней
- Сумма = 27 + N (при условии объединения пересечений).

Критерии приёмки (acceptance)
---
- Приложение запускается на локальном файле `index.html` и работает в современных браузерах.
- Можно добавить/удалить людей и поездки и получить корректный подсчёт.
- Результат теста на примерах совпадает с ручным расчётом (предоставить 3 тестовых кейса).
- Данные сохраняются в `localStorage` и экспортируются/импортируются в JSON.

Пожелания к коду (стиль и комментарии)
---
- Код читаемый, с комментариями в местах, где делается объединение интервалов и вычисление дней.
- Обработать граничные случаи: поездка полностью вне интервала (игнорировать), поездка пересекает границы.
- UX сообщения об ошибках: некорректные даты, return < exit — предупреждение.

Конец промпта
---
'''

⸻

Если хочешь, могу:
	1.	На основе этого промпта сразу сгенерировать готовый index.html (vanilla JS) прямо здесь — файл, который можно залить на GitHub Pages.
	2.	Или подготовить краткие команды и пример presigned URL Node.js snippet для загрузки JSON в S3.

Что предпочитаешь?